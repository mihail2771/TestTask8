{"ast":null,"code":"import React,{useState}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function TimeSeetRow(_ref){let{timeSeet,employee,updateTimeSeet,deleteTimeSeet}=_ref;const[isEditing,setIsEditing]=useState(false);const[editedTimeSeet,setEditedTimeSeet]=useState({...timeSeet});const handleEditChange=e=>{const{name,checked,type,value}=e.target;setEditedTimeSeet({...editedTimeSeet,[name]:type==='checkbox'?checked:value});};const handleSave=async()=>{try{await updateTimeSeet(editedTimeSeet);setIsEditing(false);}catch(error){console.error('Error saving record:',error);}};const handleDelete=async()=>{try{await deleteTimeSeet(editedTimeSeet);setIsEditing(false);}catch(error){console.error('Error saving record:',error);}};return/*#__PURE__*/_jsxs(\"tr\",{id:timeSeet.id,children:[/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(employee.firstName,\" \").concat(employee.lastName,\" (\").concat(employee.id,\")\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{name:\"reason\",value:editedTimeSeet.reason,onChange:handleEditChange,disabled:!isEditing,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0412\\u044B\\u0431\\u043E\\u0440 \\u043F\\u0440\\u0438\\u0447\\u0438\\u043D\\u044B\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"\\u041E\\u0442\\u043F\\u0443\\u0441\\u043A\"}),/*#__PURE__*/_jsx(\"option\",{value:2,children:\"\\u0411\\u043E\\u043B\\u044C\\u043D\\u0438\\u0447\\u043D\\u044B\\u0439\"}),/*#__PURE__*/_jsx(\"option\",{value:3,children:\"\\u041F\\u0440\\u043E\\u0433\\u0443\\u043B\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:isEditing?editedTimeSeet.startDate.split(\"T\")[0]:timeSeet.startDate.split(\"T\")[0],onChange:handleEditChange,disabled:!isEditing})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",name:\"duration\",value:isEditing?editedTimeSeet.duration:timeSeet.duration,onChange:handleEditChange,disabled:!isEditing})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"discounted\",checked:isEditing?editedTimeSeet.discounted:timeSeet.discounted,onChange:handleEditChange,disabled:!isEditing})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:isEditing?editedTimeSeet.description:timeSeet.description,onChange:handleEditChange,disabled:!isEditing})}),/*#__PURE__*/_jsx(\"td\",{className:\"actions\",children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"save\",onClick:handleSave,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel\",onClick:()=>setIsEditing(false),children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit\",onClick:()=>setIsEditing(true),children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:handleDelete,children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})})]});}export default TimeSeetRow;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TimeSeetRow","_ref","timeSeet","employee","updateTimeSeet","deleteTimeSeet","isEditing","setIsEditing","editedTimeSeet","setEditedTimeSeet","handleEditChange","e","name","checked","type","value","target","handleSave","error","console","handleDelete","id","children","concat","firstName","lastName","reason","onChange","disabled","startDate","split","min","duration","discounted","description","className","onClick"],"sources":["C:/Users/misha/Desktop/Тестовое задание 8/web-app/src/TimeSeetRow.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './App.css';\r\n\r\n\r\nfunction TimeSeetRow ({ timeSeet, employee, updateTimeSeet, deleteTimeSeet }) {\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [editedTimeSeet, setEditedTimeSeet] = useState({ ...timeSeet });\r\n\r\n    const handleEditChange = (e) => {\r\n      const { name, checked, type, value } = e.target;\r\n        setEditedTimeSeet({ ...editedTimeSeet, [name]: type === 'checkbox' ? checked : value });\r\n    };\r\n    \r\n    const handleSave = async () => {\r\n      try {\r\n        await updateTimeSeet(editedTimeSeet);\r\n        setIsEditing(false);\r\n      } catch (error) {\r\n        console.error('Error saving record:', error);\r\n      }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n      try {\r\n        await deleteTimeSeet(editedTimeSeet);\r\n        setIsEditing(false);\r\n      } catch (error) {\r\n        console.error('Error saving record:', error);\r\n      }\r\n    };\r\n   \r\n    return (\r\n        <tr id={timeSeet.id}>\r\n            <td>{`${employee.firstName} ${employee.lastName} (${employee.id})`}</td>\r\n            <td>{<select name=\"reason\" value={editedTimeSeet.reason} onChange={handleEditChange} disabled={!isEditing}>\r\n              <option value=\"\">Выбор причины</option>\r\n              <option value={1}>Отпуск</option>\r\n              <option value={2}>Больничный</option>\r\n              <option value={3}>Прогул</option>\r\n            </select>}</td>\r\n            <td>{<input type=\"date\" name=\"startDate\" \r\n                    value={isEditing ? editedTimeSeet.startDate.split(\"T\")[0] : timeSeet.startDate.split(\"T\")[0]} onChange={handleEditChange} \r\n                    disabled={!isEditing}/>}</td>\r\n            <td>{<input type=\"number\" min=\"1\" name=\"duration\" \r\n                    value={isEditing ? editedTimeSeet.duration : timeSeet.duration} onChange={handleEditChange} \r\n                    disabled={!isEditing}/>}</td>\r\n            <td>{<input type=\"checkbox\" name=\"discounted\" \r\n                    checked={isEditing ? editedTimeSeet.discounted : timeSeet.discounted} onChange={handleEditChange} \r\n                    disabled={!isEditing}/>}</td>\r\n            <td>{<textarea name=\"description\" \r\n                    value={isEditing ? editedTimeSeet.description : timeSeet.description}onChange={handleEditChange} \r\n                    disabled={!isEditing}/>}</td>\r\n            <td className=\"actions\">\r\n                {isEditing ? (\r\n                    <>\r\n                      <button className=\"save\" onClick={handleSave}>Сохранить</button>\r\n                      <button className=\"cancel\" onClick={() => setIsEditing(false)}>Отмена</button>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <button className=\"edit\" onClick={() => setIsEditing(true)}>Изменить</button>\r\n                      <button className=\"delete\" onClick={handleDelete}>Удалить</button>\r\n                    </>               \r\n                  )}\r\n                </td>\r\n        </tr>\r\n    );\r\n  }\r\n  \r\n  export default TimeSeetRow;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}