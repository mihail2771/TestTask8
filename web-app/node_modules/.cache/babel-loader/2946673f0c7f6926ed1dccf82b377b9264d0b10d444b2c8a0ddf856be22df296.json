{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function TimeSeetRow(_ref){let{timeSeet,employee,updateTimeSeet,deleteTimeSeet}=_ref;const[isEditing,setIsEditing]=useState(false);const[editedTimeSeet,setEditedTimeSeet]=useState({...timeSeet});const handleEditChange=e=>{const{name,value}=e.target;setEditedTimeSeet({...editedTimeSeet,[name]:value});};const handleSave=()=>{fetch(\"/api/TimeSeets/\".concat(editedTimeSeet.id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(editedTimeSeet)}).then(response=>response.json()).then(data=>{updateTimeSeet(data);setIsEditing(false);}).catch(error=>console.error('Error updating TimeSeet:',error));};const handleDelete=()=>{fetch(\"/api/TimeSeets/\".concat(timeSeet.id),{method:'DELETE'}).then(()=>deleteTimeSeet(timeSeet.id)).catch(error=>console.error('Error deleting TimeSeet:',error));};return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(employee.firstName,\" \").concat(employee.lastName,\" (\").concat(employee.id,\")\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{name:\"reason\",value:editedTimeSeet.reason,onChange:handleEditChange,disabled:!isEditing,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u0412\\u044B\\u0431\\u043E\\u0440 \\u043F\\u0440\\u0438\\u0447\\u0438\\u043D\\u044B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\u041E\\u0442\\u043F\\u0443\\u0441\\u043A\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"\\u0411\\u043E\\u043B\\u044C\\u043D\\u0438\\u0447\\u043D\\u044B\\u0439\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"\\u041F\\u0440\\u043E\\u0433\\u0443\\u043B\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:editedTimeSeet.startDate.split(\"T\")[0],onChange:handleEditChange,disabled:!isEditing})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",name:\"duration\",value:editedTimeSeet.duration,onChange:handleEditChange,disabled:!isEditing})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"discounted\",checked:editedTimeSeet.discounted,onChange:handleEditChange,disabled:!isEditing})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:editedTimeSeet.description,onChange:handleEditChange,disabled:!isEditing})}),/*#__PURE__*/_jsx(\"td\",{className:\"actions\",children:isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"save\",onClick:handleSave,children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"cancel\",onClick:()=>setIsEditing(false),children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"edit\",onClick:()=>setIsEditing(true),children:\"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:handleDelete,children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})})]},timeSeet.key);}export default TimeSeetRow;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TimeSeetRow","_ref","timeSeet","employee","updateTimeSeet","deleteTimeSeet","isEditing","setIsEditing","editedTimeSeet","setEditedTimeSeet","handleEditChange","e","name","value","target","handleSave","fetch","concat","id","method","headers","body","JSON","stringify","then","response","json","data","catch","error","console","handleDelete","children","firstName","lastName","reason","onChange","disabled","type","startDate","split","min","duration","checked","discounted","description","className","onClick","key"],"sources":["C:/Users/misha/Desktop/Тестовое задание 8/web-app/src/TimeSeetRow.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './App.css';\r\n\r\n\r\nfunction TimeSeetRow ({ timeSeet, employee, updateTimeSeet, deleteTimeSeet }) {\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [editedTimeSeet, setEditedTimeSeet] = useState({ ...timeSeet });\r\n\r\n    const handleEditChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setEditedTimeSeet({ ...editedTimeSeet, [name]: value });\r\n    };\r\n    \r\n    const handleSave = () => {\r\n        fetch(`/api/TimeSeets/${editedTimeSeet.id}`, {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(editedTimeSeet),\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                updateTimeSeet(data);\r\n                setIsEditing(false);\r\n            })\r\n            .catch(error => console.error('Error updating TimeSeet:', error));\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        fetch(`/api/TimeSeets/${timeSeet.id}`, {\r\n            method: 'DELETE',\r\n        })\r\n            .then(() => deleteTimeSeet(timeSeet.id))\r\n            .catch(error => console.error('Error deleting TimeSeet:', error));\r\n    };\r\n   \r\n    return (\r\n        <tr key={timeSeet.key}>\r\n            <td>{`${employee.firstName} ${employee.lastName} (${employee.id})`}</td>\r\n            <td>{<select name=\"reason\" value={editedTimeSeet.reason} onChange={handleEditChange} disabled={!isEditing}>\r\n              <option value=\"\">Выбор причины</option>\r\n              <option value=\"1\">Отпуск</option>\r\n              <option value=\"2\">Больничный</option>\r\n              <option value=\"3\">Прогул</option>\r\n            </select>}</td>\r\n            <td>{<input type=\"date\" name=\"startDate\" value={editedTimeSeet.startDate.split(\"T\")[0]} onChange={handleEditChange} disabled={!isEditing}/>}</td>\r\n            <td>{<input type=\"number\" min=\"1\" name=\"duration\" value={editedTimeSeet.duration} onChange={handleEditChange} disabled={!isEditing}/>}</td>\r\n            <td>{<input type=\"checkbox\" name=\"discounted\" checked={editedTimeSeet.discounted} onChange={handleEditChange} disabled={!isEditing}/>}</td>\r\n            <td>{<textarea name=\"description\" value={editedTimeSeet.description} onChange={handleEditChange} disabled={!isEditing}/>}</td>\r\n            <td className=\"actions\">\r\n                {isEditing ? (\r\n                    <>\r\n                      <button className=\"save\" onClick={handleSave}>Сохранить</button>\r\n                      <button className=\"cancel\" onClick={() => setIsEditing(false)}>Отмена</button>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <button className=\"edit\" onClick={() => setIsEditing(true)}>Изменить</button>\r\n                      <button className=\"delete\" onClick={handleDelete}>Удалить</button>\r\n                    </>               \r\n                  )}\r\n                </td>\r\n        </tr>\r\n    );\r\n  }\r\n  \r\n  export default TimeSeetRow;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}